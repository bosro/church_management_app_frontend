<!-- src/app/features/auth/components/forgot-password/forgot-password.component.html -->
<div class="auth-container">
  <div class="auth-card">
    <!-- Logo -->
    <div class="auth-logo">
      <img src="assets/images/logo.png" alt="Church Logo" />
    </div>

    <!-- Header -->
    <div class="auth-header">
      <h1>Forgot Password?</h1>
      <p *ngIf="!emailSent">Enter your email address and we'll send you a link to reset your password.</p>
      <p *ngIf="emailSent">Check your email for password reset instructions.</p>
    </div>

    <!-- Success State -->
    <div *ngIf="emailSent" class="success-state">
      <div class="success-icon">
        <i class="ri-mail-check-line"></i>
      </div>
      <p class="success-message">{{ successMessage }}</p>
      <p class="help-text">
        Didn't receive the email? Check your spam folder or
        <button class="link-btn" (click)="emailSent = false">try again</button>
      </p>
      <button class="btn-primary btn-full" (click)="goToLogin()">
        <i class="ri-arrow-left-line"></i>
        Back to Login
      </button>
    </div>

    <!-- Form -->
    <form *ngIf="!emailSent" [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()">
      <!-- Error Message -->
      <div *ngIf="errorMessage" class="error-alert">
        <i class="ri-error-warning-line"></i>
        <span>{{ errorMessage }}</span>
      </div>

      <!-- Email Field -->
      <div class="form-group">
        <label for="email">Email Address</label>
        <div class="input-wrapper">
          <i class="ri-mail-line input-icon"></i>
          <input
            id="email"
            type="email"
            formControlName="email"
            placeholder="Enter your email"
            [class.error]="forgotPasswordForm.get('email')?.invalid && forgotPasswordForm.get('email')?.touched"
          />
        </div>
        <span
          *ngIf="forgotPasswordForm.get('email')?.invalid && forgotPasswordForm.get('email')?.touched"
          class="error-message"
        >
          {{ getErrorMessage('email') }}
        </span>
      </div>

      <!-- Submit Button -->
      <button
        type="submit"
        class="btn-primary btn-full"
        [disabled]="loading"
      >
        <span *ngIf="!loading">
          <i class="ri-mail-send-line"></i>
          Send Reset Link
        </span>
        <span *ngIf="loading">
          <i class="ri-loader-4-line spin"></i>
          Sending...
        </span>
      </button>

      <!-- Back to Login -->
      <div class="form-footer">
        <button type="button" class="link-btn" (click)="goToLogin()">
          <i class="ri-arrow-left-line"></i>
          Back to Login
        </button>
      </div>
    </form>
  </div>

  <!-- Footer -->
  <div class="auth-footer">
    <p>&copy; 2025 Church Management System. All rights reserved.</p>
  </div>
</div>
