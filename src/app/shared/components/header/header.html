<!-- src/app/shared/components/header/header.component.html -->
<div class="header">
  <!-- Mobile Menu Toggle -->
  <button class="hamburger-btn" (click)="toggleMobileSidebar()">
    <i class="ri-menu-line"></i>
  </button>

  <!-- Search Bar - Desktop -->
  <div class="search-container" [class.mobile-hidden]="isMobile && !showMobileSearch">
    <i class="ri-search-line search-icon"></i>
    <input
      type="text"
      placeholder="Search members, events, etc..."
      [(ngModel)]="searchQuery"
      (keyup.enter)="onSearch()"
      class="search-input"
    />
  </div>

  <!-- Mobile Search Toggle -->
  <button class="mobile-search-btn" (click)="toggleMobileSearch()" *ngIf="isMobile">
    <i class="ri-search-line"></i>
  </button>

  <!-- Right Section â€” pushed to far right via margin-left: auto -->
  <div class="header-actions">
    <!-- Notifications -->
    <button class="icon-btn notifications-btn">
      <i class="ri-notification-3-line"></i>
      <span class="notification-badge">3</span>
    </button>

    <!-- User Profile -->
    <div class="user-section" *ngIf="currentUser" #userDropdown>
      <div class="user-info-header" (click)="toggleUserMenu()">
        <div class="user-avatar">
          <img
            *ngIf="currentUser.avatar_url"
            [src]="currentUser.avatar_url"
            [alt]="currentUser.full_name"
          />
          <div *ngIf="!currentUser.avatar_url" class="avatar-placeholder">
            {{ currentUser.full_name.charAt(0).toUpperCase() }}
          </div>
        </div>
        <div class="user-details" *ngIf="!isMobile">
          <p class="user-name">{{ currentUser.full_name }}</p>
          <p class="user-role">{{ getRoleDisplayName(currentUser.role) }}</p>
        </div>
        <i class="ri-arrow-down-s-line dropdown-icon" *ngIf="!isMobile"></i>
      </div>

      <!-- Dropdown Menu -->
      <div class="user-dropdown" *ngIf="showUserMenu">
        <div class="dropdown-header" *ngIf="isMobile">
          <div class="user-info-mobile">
            <p class="user-name">{{ currentUser.full_name }}</p>
            <p class="user-email">{{ currentUser.email }}</p>
            <p class="user-role">{{ getRoleDisplayName(currentUser.role) }}</p>
          </div>
        </div>
        <button class="dropdown-item" (click)="navigateToProfile()">
          <i class="ri-user-line"></i>
          <span>Profile</span>
        </button>
        <button class="dropdown-item" (click)="navigateToSettings()">
          <i class="ri-settings-3-line"></i>
          <span>Settings</span>
        </button>
        <div class="dropdown-divider"></div>
        <button class="dropdown-item logout" (click)="logout()">
          <i class="ri-logout-box-line"></i>
          <span>Logout</span>
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Mobile Search Overlay -->
<div class="mobile-search-overlay" *ngIf="isMobile && showMobileSearch">
  <div class="mobile-search-content">
    <div class="mobile-search-header">
      <button class="back-btn" (click)="toggleMobileSearch()">
        <i class="ri-arrow-left-line"></i>
      </button>
      <input
        type="text"
        placeholder="Search..."
        [(ngModel)]="searchQuery"
        (keyup.enter)="onSearch()"
        class="mobile-search-input"
        autofocus
      />
    </div>
  </div>
</div>
